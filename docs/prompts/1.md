Prompt 1: Project Foundation & Pedagogical Extraction

    Task: Implement the Discovery Layer & Visual Manifest Logic (Prompt 1)

    1. Environment Setup:

        Create a standalone Python-based service named ScribeFlow.

        Requirement: This service must be architecturally separate from the Visualization Engine and communicate via standard JSON payloads.

    2. High-Fidelity Extraction:

        Implement the DiscoveryService using the MarkItDown library.

        Input: A local .docx file.

        Output: A clean Markdown representation of the document that preserves structural hierarchy (headers, tables, lists).

    3. The ScribeLLM (The Brain):

        Create an LLM module (utilizing GPT-4o or Gemini 1.5 Pro) that acts as a Senior Visual Pedagogy Expert.

        System Prompt Requirements:

            Analysis: Identify sections with high cognitive load or complex abstract concepts that would benefit from visualization based on Dual Coding Theory and the Signaling Principle.

            Constraint: The number of visuals must be "Tasteful"—limit recommendations to 1–2 high-impact artifacts per page.

    4. Output Requirements:

        The service must return two distinct JSON objects for every document processed:

            Visual Manifest: An array of proposed artifacts. Each must include:

                anchor_sentence: The exact sentence in the document where the visual should be inserted.

                rationale: Why this visual is needed (pedagogical reason).

                template_type: The recommended template (e.g., versus_split, bento_grid, story_image).

                data_payload: The structured data needed for that specific template.

            Style Guide: A JSON object defining the "Spirit" of the document.

                palette: A set of 5-6 HEX codes.

                mood: A descriptive term (e.g., "Serene Wellness," "Modern Technical," "Energetic Business").

    5. Success Criteria:

        A script or endpoint that takes a .docx and prints the Visual Manifest and Style Guide to the console.

        The extraction must take less than 15 seconds for a 5-page document.